<tr id="rule-{{ rule.id }}" class="hover:bg-neutral-50 dark:hover:bg-neutral-700/50 row-hover">
    <td class="px-6 py-4">
        <span class="font-medium">{{ rule.name }}</span>
    </td>
    <td class="px-6 py-4">
        <code class="px-2 py-1 bg-neutral-100 dark:bg-neutral-700 rounded text-sm font-mono">{{ rule.pattern }}</code>
    </td>
    <td class="px-6 py-4">
        <span class="text-sm">
            {% if rule.action_type.as_str() == "assign_category" %}
                <span class="text-neutral-500 dark:text-neutral-400">Category:</span>
                {% for cat in categories %}
                    {% if cat.category.id.to_string() == rule.action_value %}
                        <span class="inline-flex items-center gap-1.5">
                            <span class="w-2 h-2 rounded-full" style="background-color: {{ cat.category.color }};"></span>
                            {{ cat.path }}
                        </span>
                    {% endif %}
                {% endfor %}
            {% else %}
                <span class="text-neutral-500 dark:text-neutral-400">Tag:</span>
                {% for tag in tags %}
                    {% if tag.id.to_string() == rule.action_value %}
                        <span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs" style="background-color: {{ tag.color }}; color: white;">
                            {{ tag.name }}
                        </span>
                    {% endif %}
                {% endfor %}
            {% endif %}
        </span>
    </td>
    <td class="px-6 py-4 text-right">
        <button hx-delete="/rules/{{ rule.id }}"
            hx-target="#rule-{{ rule.id }}"
            hx-swap="outerHTML"
            hx-confirm="Are you sure you want to delete this rule?"
            class="p-2 text-neutral-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors"
            aria-label="Delete rule">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
            </svg>
        </button>
    </td>
</tr>
