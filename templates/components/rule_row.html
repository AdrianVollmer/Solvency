{% import "macros/ui.html" as ui %}
<tr id="rule-{{ rule.id }}"
    onclick="window.location.href='/rules/{{ rule.id }}'"
    class="hover:bg-neutral-50 dark:hover:bg-neutral-700/50 cursor-pointer row-hover">
    <td class="px-6 py-4">
        <span class="font-medium">{{ rule.name }}</span>
    </td>
    <td class="px-6 py-4">
        <code class="px-2 py-1 bg-neutral-100 dark:bg-neutral-700 rounded text-sm font-mono">{{ rule.pattern }}</code>
    </td>
    <td class="px-6 py-4">
        <span class="text-sm">
            {% if rule.action_type.as_str() == "assign_category" %}
                <span class="text-neutral-500 dark:text-neutral-400">Category:</span>
                {% for cat in categories %}
                    {% if cat.category.id.to_string() == rule.action_value %}
                        <span class="inline-flex items-center gap-1.5">
                            <span class="w-2 h-2 rounded-full" style="background-color: {{ cat.category.color }};"></span>
                            {{ cat.path }}
                        </span>
                    {% endif %}
                {% endfor %}
            {% else %}
                <span class="text-neutral-500 dark:text-neutral-400">Tag:</span>
                {% for tag in tags %}
                    {% if tag.id.to_string() == rule.action_value %}
                        {% call ui::tag_badge_auto(style=tag.style.as_str(), color=tag.color.as_str(), name=tag.name.as_str(), text_color=tag.text_color(), ghost_text_color=tag.ghost_text_color()) %}{% endcall %}
                    {% endif %}
                {% endfor %}
            {% endif %}
        </span>
    </td>
</tr>
