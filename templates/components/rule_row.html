<tr id="rule-{{ rule.id }}" class="hover:bg-neutral-50 dark:hover:bg-neutral-700/50 row-hover">
    <td class="px-6 py-4">
        <span class="font-medium">{{ rule.name }}</span>
    </td>
    <td class="px-6 py-4">
        <code class="px-2 py-1 bg-neutral-100 dark:bg-neutral-700 rounded text-sm font-mono">{{ rule.pattern }}</code>
    </td>
    <td class="px-6 py-4">
        <span class="text-sm">
            {% if rule.action_type.as_str() == "assign_category" %}
                <span class="text-neutral-500 dark:text-neutral-400">Category:</span>
                {% for cat in categories %}
                    {% if cat.category.id.to_string() == rule.action_value %}
                        <span class="inline-flex items-center gap-1.5">
                            <span class="w-2 h-2 rounded-full" style="background-color: {{ cat.category.color }};"></span>
                            {{ cat.path }}
                        </span>
                    {% endif %}
                {% endfor %}
            {% else %}
                <span class="text-neutral-500 dark:text-neutral-400">Tag:</span>
                {% for tag in tags %}
                    {% if tag.id.to_string() == rule.action_value %}
                        <span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs" style="background-color: {{ tag.color }}; color: white;">
                            {{ tag.name }}
                        </span>
                    {% endif %}
                {% endfor %}
            {% endif %}
        </span>
    </td>
    <td class="px-6 py-4 text-right">
        <mm-delete-button
            target="rule-{{ rule.id }}"
            endpoint="/rules/{{ rule.id }}"
            confirm="Are you sure you want to delete this rule?"
            label="Delete rule"></mm-delete-button>
    </td>
</tr>
