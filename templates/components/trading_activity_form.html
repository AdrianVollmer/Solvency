<h2 id="modal-title" class="text-lg font-semibold text-neutral-900 dark:text-white mb-4">
    {% if is_edit %}Edit Activity{% else %}Add Activity{% endif %}
</h2>
<form hx-post="/trading/activities/create" hx-target="#activities-list" hx-swap="afterbegin" class="space-y-4">
    <div class="grid grid-cols-2 gap-4">
        <div>
            <label for="date" class="block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1">Date</label>
            <input type="date" id="date" name="date" required
                class="input w-full">
        </div>
        <div>
            <label for="symbol" class="block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1">Symbol</label>
            <input type="text" id="symbol" name="symbol" required placeholder="AAPL or $CASH-USD"
                list="symbol-list"
                class="input w-full">
            <datalist id="symbol-list">
                {% for sym in symbols %}
                <option value="{{ sym }}">
                {% endfor %}
            </datalist>
        </div>
    </div>

    <div>
        <label for="activity_type" class="block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1">Activity Type</label>
        <select id="activity_type" name="activity_type" required
            class="input w-full">
            {% for at in activity_types %}
            <option value="{{ at.as_str() }}">{{ at.label() }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="grid grid-cols-2 gap-4">
        <div>
            <label for="quantity" class="block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1">Quantity</label>
            <input type="number" step="any" id="quantity" name="quantity" placeholder="10"
                class="input w-full">
        </div>
        <div>
            <label for="unit_price" class="block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1">Unit Price</label>
            <input type="number" step="0.01" id="unit_price" name="unit_price" placeholder="150.00"
                class="input w-full">
        </div>
    </div>

    <div class="grid grid-cols-2 gap-4">
        <div>
            <label for="currency" class="block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1">Currency</label>
            <input type="text" id="currency" name="currency" value="USD" placeholder="USD"
                class="input w-full">
        </div>
        <div>
            <label for="fee" class="block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1">Fee</label>
            <input type="number" step="0.01" id="fee" name="fee" value="0" placeholder="5.00"
                class="input w-full">
        </div>
    </div>

    <div>
        <label for="notes" class="block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1">Notes</label>
        <textarea id="notes" name="notes" rows="2" placeholder="Optional notes..."
            class="input w-full"></textarea>
    </div>

    <div class="flex justify-end gap-3 pt-2">
        <button type="button" onclick="document.getElementById('activity-modal').classList.add('hidden')"
            class="btn-ghost px-4 py-2 rounded-lg">Cancel</button>
        <button type="submit" class="btn btn-primary"
            onclick="document.getElementById('activity-modal').classList.add('hidden')">
            {% if is_edit %}Save Changes{% else %}Add Activity{% endif %}
        </button>
    </div>
</form>
